# 机械臂（Franka, xArm, UR）

主流机械臂平台的介绍和使用。

## 目录

- [1. 主流机械臂对比](#1-主流机械臂对比)
- [2. Franka Emika Panda](#2-franka-emika-panda)
- [3. xArm](#3-xarm)
- [4. Universal Robots (UR)](#4-universal-robots-ur)

---

## 1. 主流机械臂对比

| 机械臂 | 自由度 | 负载 | 工作半径 | 特点 |
|--------|--------|------|----------|------|
| Franka | 7 | 3kg | 855mm | 精度高，售价高 |
| xArm 7 | 7 | 7kg | 698mm | 性价比高 |
| UR5e  | 6 | 5kg | 850mm | 协作安全 |
| UR10e | 6 | 10kg | 1300mm | 大工作范围 |

---

## 2. Franka Emika Panda

### 2.1 特点

- 7自由度
- 力矩控制
- 碰撞检测
- 研究友好

### 2.2 控制接口

```python
# libfranka Python接口
import franka_interface

# 创建接口
gripper = GripperInterface('robot')
robot = RobotInterface('robot')

# 读取状态
state = robot.read_once()
print(state.q)  # 关节位置

# 关节控制
robot.control(
    q_desired=[0, -0.785, 0, -2.356, 0, 1.571, 0.785],
    controller_mode='joint_position'
)

# 末端控制
robot.control(
    pose_desired=[0.3, 0, 0.4, 0, 0, 0, 1],
    controller_mode='cartesian_impedance'
)
```

---

## 3. xArm

### 3.1 特点

- 7自由度
- 开源SDK
- 多种控制模式
- 性价比高

### 3.2 Python控制

```python
from xarm.wrapper import XArmAPI

# 连接机械臂
arm = XArmAPI('192.168.1.xxx')

# 关节角度控制
arm.set_servo_angle(angle=[0, -45, 0, -135, 0, 90, 0], wait=True)

# 位置控制
arm.set_position(x=200, y=0, z=300, roll=0, pitch=0, yaw=0)

# 末端控制
arm.set_end effector_gripper(enable=True)
arm.set_gripper_position(400)  # 0-850
```

---

## 4. Universal Robots (UR)

### 4.1 特点

- 协作安全
- 广泛应用
- 易于编程
- ROS支持

### 4.2 ROS2控制

```python
# ROS2 MoveIt2控制
from moveit_configs_utils import MoveItConfigsBuilder
from moveit_py import MoveItPy

# 加载配置
moveit_config = MoveItConfigsBuilder("ur5e", package_path="ur5e_moveit_config").to_dict()

# 创建MoveIt
moveit = MoveItPy(node_name="ur5e_moveit")
moveit.set_max_velocity_scaling_factor(0.5)

# 规划
plan = moveit.plan(
    pose_goal=PoseStamped(pose=Pose(position=Point(x=0.3, y=0.0, z=0.3)))
)

# 执行
moveit.execute(plan, wait=True)
```

---

*本章节持续更新中...*
