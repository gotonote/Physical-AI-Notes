# ç‰©ç†AIæ•°å­¦ä¸ç‰©ç†åŸºç¡€

> **Mathematical and Physical Foundations for Physical AI**
> 
> æœ¬æ–‡æ·±å…¥ä»‹ç»ç‰©ç†AIé¢†åŸŸçš„æ ¸å¿ƒæ•°å­¦å·¥å…·å’Œç‰©ç†å­¦åŸç†ï¼Œä¸ºåç»­å­¦ä¹ æ„ŸçŸ¥ã€è§„åˆ’ã€æ§åˆ¶ç­‰ç®—æ³•æ‰“ä¸‹åšå®çš„ç†è®ºåŸºç¡€ã€‚

---

## ğŸ“‹ ç›®å½•

1. [çº¿æ€§ä»£æ•°åŸºç¡€](#ä¸€çº¿æ€§ä»£æ•°åŸºç¡€)
2. [æ¦‚ç‡è®ºä¸ç»Ÿè®¡å­¦](#äºŒæ¦‚ç‡è®ºä¸ç»Ÿè®¡å­¦)
3. [ä¼˜åŒ–ç†è®º](#ä¸‰ä¼˜åŒ–ç†è®º)
4. [åˆšä½“è¿åŠ¨å­¦](#å››åˆšä½“è¿åŠ¨å­¦)
5. [åˆšä½“åŠ¨åŠ›å­¦](#äº”åˆšä½“åŠ¨åŠ›å­¦)
6. [æ§åˆ¶ç†è®ºåŸºç¡€](#å…­æ§åˆ¶ç†è®ºåŸºç¡€)
7. [æ ¸å¿ƒå…¬å¼æ±‡æ€»](#ä¸ƒæ ¸å¿ƒå…¬å¼æ±‡æ€»)

---

## ä¸€ã€çº¿æ€§ä»£æ•°åŸºç¡€

### 1.1 å‘é‡ä¸çŸ©é˜µ

åœ¨æœºå™¨äººå­¦ä¸­ï¼Œ**å‘é‡**å’Œ**çŸ©é˜µ**æ˜¯æè¿°çŠ¶æ€ã€å˜æ¢å’Œç³»ç»Ÿçš„åŸºæœ¬æ•°å­¦å·¥å…·ã€‚

#### å‘é‡å®šä¹‰
$$
\mathbf{v} = \begin{bmatrix} v_1 \\ v_2 \\ \vdots \\ v_n \end{bmatrix} \in \mathbb{R}^n
$$

#### å¸¸è§è¿ç®—

| è¿ç®— | å…¬å¼ | è¯´æ˜ |
|------|------|------|
| **å†…ç§¯** | $\mathbf{a} \cdot \mathbf{b} = \mathbf{a}^T \mathbf{b} = \sum_{i=1}^n a_i b_i$ | æŠ•å½±ã€å¤¹è§’è®¡ç®— |
| **å¤–ç§¯** | $\mathbf{a} \times \mathbf{b} = [\mathbf{a}]_\times \mathbf{b}$ | å‰ä¹˜ã€åŠ›çŸ©è®¡ç®— |
| **èŒƒæ•°** | $\|\mathbf{v}\| = \sqrt{\mathbf{v}^T \mathbf{v}}$ | é•¿åº¦ã€å¤§å°åº¦é‡ |

#### å‰ä¹˜çŸ©é˜µï¼ˆåå¯¹ç§°çŸ©é˜µï¼‰
$$
[\mathbf{a}]_\times = \begin{bmatrix}
0 & -a_z & a_y \\
a_z & 0 & -a_x \\
-a_y & a_x & 0
\end{bmatrix}
$$

> ğŸ’¡ **ç”¨é€”**ï¼šå°†å‰ä¹˜è¿ç®— $\mathbf{a} \times \mathbf{b}$ è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³• $[\mathbf{a}]_\times \mathbf{b}$

### 1.2 åæ ‡å˜æ¢

åæ ‡å˜æ¢æ˜¯æœºå™¨äººå­¦æœ€æ ¸å¿ƒçš„æ•°å­¦å·¥å…·ï¼Œç”¨äºæè¿°ä¸åŒå‚è€ƒåæ ‡ç³»ä¹‹é—´çš„ä½ç½®å’Œå§¿æ€å…³ç³»ã€‚

#### é½æ¬¡å˜æ¢çŸ©é˜µï¼ˆ4Ã—4ï¼‰
$$
^{A}T_{B} = \begin{bmatrix}
^{A}R_{B} & ^{A}\mathbf{p}_{B/O} \\
\mathbf{0}_{1 \times 3} & 1
\end{bmatrix}
$$

å…¶ä¸­ï¼š
- $^{A}R_{B} \in SO(3)$ï¼šä»åæ ‡ç³»Båˆ°åæ ‡ç³»Açš„æ—‹è½¬çŸ©é˜µ
- $^{A}\mathbf{p}_{B/O}$ï¼šåæ ‡ç³»BåŸç‚¹åœ¨åæ ‡ç³»Aä¸­çš„ä½ç½®

#### æ—‹è½¬çŸ©é˜µæ€§è´¨

1. **æ­£äº¤æ€§**ï¼š$R^T R = I$ï¼Œ$R^{-1} = R^T$
2. **è¡Œåˆ—å¼**ï¼š$\det(R) = +1$
3. **ç¾¤æ€§è´¨**ï¼š$SO(3)$ ç¾¤

#### åæ ‡å˜æ¢å…¬å¼
$$
^{A}\mathbf{p} = ^{A}T_{B} \cdot ^{B}\mathbf{p}
$$
$$
^{A}\mathbf{v} = ^{A}R_{B} \cdot ^{B}\mathbf{v}
$$

### 1.3 æ—‹è½¬å‘é‡

#### è½´è§’è¡¨ç¤ºï¼ˆAxis-Angleï¼‰
$$
\mathbf{\omega} = \theta \hat{\mathbf{k}}
$$

å…¶ä¸­ $\theta$ ä¸ºæ—‹è½¬è§’åº¦ï¼Œ$\hat{\mathbf{k}}$ ä¸ºå•ä½æ—‹è½¬è½´ã€‚

#### ç½—å¾·é‡Œæ ¼æ–¯å…¬å¼ï¼ˆRodrigues' Formulaï¼‰
$$
R = I + \sin\theta [\hat{\mathbf{k}}]_\times + (1 - \cos\theta) [\hat{\mathbf{k}}]_\times^2
$$

æˆ–è€…å†™æˆï¼š
$$
R = \exp([\boldsymbol{\omega}]_\times) = I + \frac{\sin\theta}{\theta}[\boldsymbol{\omega}]_\times + \frac{1-\cos\theta}{\theta^2}[\boldsymbol{\omega}]_\times^2
$$

> ğŸ¯ **ç¤ºä¾‹**ï¼šç»•zè½´æ—‹è½¬$\theta$è§’
> $$
> R_z(\theta) = \begin{bmatrix}
> \cos\theta & -\sin\theta & 0 \\
> \sin\theta & \cos\theta & 0 \\
> 0 & 0 & 1
> \end{bmatrix}
> $$

### 1.4 å››å…ƒæ•°ï¼ˆQuaternionsï¼‰

å››å…ƒæ•°æ˜¯æ—‹è½¬å‘é‡çš„å¦ä¸€ç§è¡¨ç¤ºï¼Œé¿å…äº†æ¬§æ‹‰è§’çš„å¥‡ç‚¹é—®é¢˜ã€‚

#### å®šä¹‰
$$
q = w + xi + yj + zk = \begin{bmatrix} w \\ x \\ y \\ z \end{bmatrix}, \quad \|q\| = 1
$$

æˆ–å†™æˆï¼š
$$
q = \begin{bmatrix} \cos(\theta/2) \\ \hat{\mathbf{k}} \sin(\theta/2) \end{bmatrix}
$$

#### å››å…ƒæ•°ä¹˜æ³•
$$
q_1 \otimes q_2 = \begin{bmatrix}
w_1 w_2 - x_1 x_2 - y_1 y_2 - z_1 z_2 \\
w_1 x_2 + x_1 w_2 + y_1 z_2 - z_1 y_2 \\
w_1 y_2 - x_1 z_2 + y_1 w_2 + z_1 x_2 \\
w_1 z_2 + x_1 y_2 - y_1 x_2 + z_1 w_2
\end{bmatrix}
$$

#### æ—‹è½¬çŸ©é˜µä¸å››å…ƒæ•°è½¬æ¢
$$
R = \begin{bmatrix}
1-2(y^2+z^2) & 2(xy-wz) & 2(xz+wy) \\
2(xy+wz) & 1-2(x^2+z^2) & 2(yz-wx) \\
2(xz-wy) & 2(yz+wx) & 1-2(x^2+y^2)
\end{bmatrix}
$$

---

## äºŒã€æ¦‚ç‡è®ºä¸ç»Ÿè®¡å­¦

### 2.1 æ¦‚ç‡åŸºç¡€

#### æ¦‚ç‡åˆ†å¸ƒ

| åˆ†å¸ƒ | å…¬å¼ | åº”ç”¨åœºæ™¯ |
|------|------|---------|
| **é«˜æ–¯ï¼ˆæ­£æ€ï¼‰** | $p(x) = \frac{1}{\sqrt{2\pi\sigma^2}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}$ | æµ‹é‡å™ªå£°ã€çŠ¶æ€ä¼°è®¡ |
| **ä¼¯åŠªåˆ©** | $P(X=1)=p, P(X=0)=1-p$ | äºŒå…ƒå†³ç­– |
| **å¤šé¡¹å¼** | $P(X=k) = \frac{n!}{k!(n-k)!} p^k (1-p)^{n-k}$ | åˆ†ç±»é—®é¢˜ |

#### é«˜æ–¯åˆ†å¸ƒæ€§è´¨

- **çº¿æ€§ç»„åˆ**ï¼šè‹¥ $X \sim \mathcal{N}(\mu_1, \sigma_1^2)$ï¼Œ$Y \sim \mathcal{N}(\mu_2, \sigma_2^2)$ï¼Œåˆ™
  $$aX + bY \sim \mathcal{N}(a\mu_1 + b\mu_2, a^2\sigma_1^2 + b^2\sigma_2^2)$$

- **è¾¹ç¼˜åˆ†å¸ƒ**ï¼šé«˜æ–¯åˆ†å¸ƒçš„è¾¹ç¼˜åˆ†å¸ƒä»ä¸ºé«˜æ–¯
- **æ¡ä»¶åˆ†å¸ƒ**ï¼šé«˜æ–¯åˆ†å¸ƒçš„æ¡ä»¶åˆ†å¸ƒä»ä¸ºé«˜æ–¯ï¼ˆè¿™æ˜¯å¡å°”æ›¼æ»¤æ³¢çš„ç†è®ºåŸºç¡€ï¼‰

### 2.2 è´å¶æ–¯æ¨æ–­

è´å¶æ–¯å®šç†æ˜¯çŠ¶æ€ä¼°è®¡çš„ç†è®ºæ ¸å¿ƒï¼š
$$
P(A|B) = \frac{P(B|A) \cdot P(A)}{P(B)}
$$

åœ¨æœºå™¨äººçŠ¶æ€ä¼°è®¡ä¸­ï¼š
$$
\underbrace{P(\mathbf{x}|\mathbf{z})}_{\text{åéªŒ}} = \frac{\underbrace{P(\mathbf{z}|\mathbf{x})}_{\text{ä¼¼ç„¶}} \cdot \underbrace{P(\mathbf{x})}_{\text{å…ˆéªŒ}}}{\underbrace{P(\mathbf{z})}_{\text{å½’ä¸€åŒ–å¸¸æ•°}}}
$$

å…¶ä¸­ï¼š
- $\mathbf{x}$ï¼šæœºå™¨äººçŠ¶æ€ï¼ˆä½ç½®ã€å§¿æ€ç­‰ï¼‰
- $\mathbf{z}$ï¼šä¼ æ„Ÿå™¨è§‚æµ‹

### 2.3 å¡å°”æ›¼æ»¤æ³¢

#### å¡å°”æ›¼æ»¤æ³¢æ ¸å¿ƒæ–¹ç¨‹

**é¢„æµ‹æ­¥éª¤ï¼ˆPredictionï¼‰**ï¼š
$$
\hat{\mathbf{x}}_{k|k-1} = F_k \hat{\mathbf{x}}_{k-1|k-1} + B_k \mathbf{u}_k
$$
$$
P_{k|k-1} = F_k P_{k-1|k-1} F_k^T + Q_k
$$

**æ›´æ–°æ­¥éª¤ï¼ˆUpdateï¼‰**ï¼š
$$
K_k = P_{k|k-1} H_k^T (H_k P_{k|k-1} H_k^T + R_k)^{-1}
$$
$$
\hat{\mathbf{x}}_{k|k} = \hat{\mathbf{x}}_{k|k-1} + K_k (\mathbf{z}_k - H_k \hat{\mathbf{x}}_{k|k-1})
$$
$$
P_{k|k} = (I - K_k H_k) P_{k|k-1}
$$

å…¶ä¸­ï¼š
- $\hat{\mathbf{x}}$ï¼šçŠ¶æ€ä¼°è®¡
- $P$ï¼šåæ–¹å·®çŸ©é˜µ
- $F$ï¼šçŠ¶æ€è½¬ç§»çŸ©é˜µ
- $B$ï¼šè¾“å…¥çŸ©é˜µ
- $H$ï¼šè§‚æµ‹çŸ©é˜µ
- $Q$ï¼šè¿‡ç¨‹å™ªå£°åæ–¹å·®
- $R$ï¼šè§‚æµ‹å™ªå£°åæ–¹å·®
- $K$ï¼šå¡å°”æ›¼å¢ç›Š

#### å¡å°”æ›¼æ»¤æ³¢æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¡å°”æ›¼æ»¤æ³¢æµç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ k-1æ—¶åˆ»  â”‚ â”€â”€â–¶ â”‚   é¢„æµ‹æ­¥éª¤   â”‚ â”€â”€â–¶ â”‚   æ›´æ–°æ­¥éª¤    â”‚   â”‚
â”‚   â”‚ çŠ¶æ€ä¼°è®¡ â”‚      â”‚ (çŠ¶æ€ä¼ æ’­)    â”‚      â”‚ (è§‚æµ‹èåˆ)    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â–²                                        â”‚           â”‚
â”‚        â”‚                                        â–¼           â”‚
â”‚        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           kæ—¶åˆ»çŠ¶æ€ä¼°è®¡              â”‚    â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 ç²’å­æ»¤æ³¢

å½“ç³»ç»Ÿéçº¿æ€§æˆ–éé«˜æ–¯æ—¶ï¼Œä½¿ç”¨ç²’å­æ»¤æ³¢ï¼ˆSequential Monte Carloï¼‰ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç²’å­æ»¤æ³¢ç®—æ³•                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. åˆå§‹åŒ–ï¼šç”Ÿæˆ N ä¸ªç²’å­ {x_0^i, w_0^i}                     â”‚
â”‚                                                             â”‚
â”‚  2. é¢„æµ‹ï¼šå¯¹æ¯ä¸ªç²’å­åº”ç”¨è¿åŠ¨æ¨¡å‹                               â”‚
â”‚     x_k^i ~ p(x_k | x_{k-1}^i, u_k)                        â”‚
â”‚                                                             â”‚
â”‚  3. æ›´æ–°ï¼šæ ¹æ®è§‚æµ‹è®¡ç®—æƒé‡                                    â”‚
â”‚     w_k^i âˆ w_{k-1}^i Â· p(z_k | x_k^i)                     â”‚
â”‚                                                             â”‚
â”‚  4. é‡é‡‡æ ·ï¼šå»é™¤ä½æƒé‡ç²’å­ï¼Œå¤åˆ¶é«˜æƒé‡ç²’å­                     â”‚
â”‚                                                             â”‚
â”‚  5. çŠ¶æ€ä¼°è®¡ï¼šx_k = Î£ w_k^i Â· x_k^i                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€ä¼˜åŒ–ç†è®º

### 3.1 ä¼˜åŒ–é—®é¢˜å®šä¹‰

#### æ ‡å‡†å½¢å¼
$$
\min_{\mathbf{x}} \quad f(\mathbf{x}) \quad \text{s.t.} \quad g_i(\mathbf{x}) = 0, \quad h_j(\mathbf{x}) \leq 0
$$

#### æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•

å¯¹äºç­‰å¼çº¦æŸä¼˜åŒ–ï¼š
$$
\mathcal{L}(\mathbf{x}, \lambda) = f(\mathbf{x}) + \sum_i \lambda_i g_i(\mathbf{x})
$$

KKTï¼ˆKarush-Kuhn-Tuckerï¼‰æ¡ä»¶ï¼š
$$
\begin{cases}
\nabla_{\mathbf{x}} \mathcal{L} = 0 \\
g_i(\mathbf{x}) = 0 \\
h_j(\mathbf{x}) \leq 0 \\
\lambda_j \geq 0 \\
\lambda_j h_j(\mathbf{x}) = 0
\end{cases}
$$

### 3.2 æ¢¯åº¦ä¸‹é™æ³•

#### æ‰¹é‡æ¢¯åº¦ä¸‹é™
$$
\mathbf{x}_{k+1} = \mathbf{x}_k - \alpha \nabla f(\mathbf{x}_k)
$$

#### éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆSGDï¼‰
$$
\mathbf{x}_{k+1} = \mathbf{x}_k - \alpha \nabla f_i(\mathbf{x}_k)
$$

å…¶ä¸­ $i$ æ˜¯éšæœºé€‰æ‹©çš„æ ·æœ¬ã€‚

#### å­¦ä¹ ç‡è°ƒåº¦
| æ–¹æ³• | å…¬å¼ | ç‰¹ç‚¹ |
|------|------|------|
| å›ºå®š | $\alpha_k = \alpha_0$ | ç®€å• |
| æŒ‡æ•°è¡°å‡ | $\alpha_k = \alpha_0 \cdot \gamma^k$ | å¹³æ»‘ä¸‹é™ |
| ä½™å¼¦é€€ç« | $\alpha_k = \alpha_{min} + \frac{1}{2}(\alpha_{max}-\alpha_{min})(1+\cos\frac{k}{K}\pi)$ | è‡ªé€‚åº” |
| Adam | è‡ªé€‚åº”å­¦ä¹ ç‡ | ç›®å‰æœ€å¸¸ç”¨ |

### 3.3 äºŒæ¬¡è§„åˆ’ï¼ˆQPï¼‰

æœºå™¨äººæ§åˆ¶ä¸­å¸¸ç”¨çš„ä¼˜åŒ–å½¢å¼ï¼š
$$
\min_{\mathbf{x}} \quad \frac{1}{2}\mathbf{x}^T H \mathbf{x} + \mathbf{c}^T \mathbf{x} \quad \text{s.t.} \quad A\mathbf{x} \leq \mathbf{b}
$$

#### åº”ç”¨ï¼šæ¨¡å‹é¢„æµ‹æ§åˆ¶ï¼ˆMPCï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¨¡å‹é¢„æµ‹æ§åˆ¶ï¼ˆMPCï¼‰                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  é¢„æµ‹æ—¶åŸŸ N                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  x(t) â†’ x(t+1|t) â†’ ... â†’ x(t+N|t)                  â”‚   â”‚
â”‚  â”‚  u(t) â†’ u(t+1|t) â†’ ... â†’ u(t+N-1|t)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ä¼˜åŒ–ç›®æ ‡ï¼š                                                 â”‚
â”‚  min Î£ [x^T Q x + u^T R u] + x_N^T P x_N                  â”‚
â”‚                                                             â”‚
â”‚  çº¦æŸï¼š                                                     â”‚
â”‚  â€¢ åŠ¨åŠ›å­¦çº¦æŸï¼šx_{k+1} = f(x_k, u_k)                       â”‚
â”‚  â€¢ æ§åˆ¶çº¦æŸï¼šu_min â‰¤ u_k â‰¤ u_max                           â”‚
â”‚  â€¢ çŠ¶æ€çº¦æŸï¼šx_min â‰¤ x_k â‰¤ x_max                           â”‚
â”‚                                                             â”‚
â”‚  åªæ‰§è¡Œç¬¬ä¸€æ­¥ u(t)ï¼Œæ»šåŠ¨ä¼˜åŒ–                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€åˆšä½“è¿åŠ¨å­¦

### 4.1 æœºå™¨äººè¿åŠ¨å­¦æ¨¡å‹

#### DHå‚æ•°ï¼ˆDenavit-Hartenbergï¼‰

è¿æ†åæ ‡ç³»$i$ç›¸å¯¹äºè¿æ†åæ ‡ç³»$i-1$çš„å˜æ¢ï¼š
$$
^{i-1}T_i = \text{Rot}_z(\theta_i) \cdot \text{Trans}_z(d_i) \cdot \text{Trans}_x(a_i) \cdot \text{Rot}_x(\alpha_i)
$$

$$
= \begin{bmatrix}
\cos\theta_i & -\sin\theta_i \cos\alpha_i & \sin\theta_i \sin\alpha_i & a_i \cos\theta_i \\
\sin\theta_i & \cos\theta_i \cos\alpha_i & -\cos\theta_i \sin\alpha_i & a_i \sin\theta_i \\
0 & \sin\alpha_i & \cos\alpha_i & d_i \\
0 & 0 & 0 & 1
\end{bmatrix}
$$

#### æ­£è¿åŠ¨å­¦

æœ«ç«¯æ‰§è¡Œå™¨ä½å§¿ï¼š
$$
T_{EE} = T_0^1 \cdot T_1^2 \cdot \ldots \cdot T_{n-1}^n
$$

#### é€†è¿åŠ¨å­¦

å·²çŸ¥æœ«ç«¯ä½å§¿ $T_{EE}$ï¼Œæ±‚å…³èŠ‚è§’ $\mathbf{q}$ã€‚

**è§£ææ³•**ï¼šé€‚ç”¨äº6è‡ªç”±åº¦æœºæ¢°è‡‚
**æ•°å€¼æ³•**ï¼šè¿­ä»£æ±‚è§£ï¼ˆå¦‚ Jacobian ä¼ªé€†æ³•ï¼‰

### 4.2 é›…å¯æ¯”çŸ©é˜µ

#### å®šä¹‰
$$
\dot{\mathbf{x}} = J(\mathbf{q}) \dot{\mathbf{q}}
$$

å…¶ä¸­ï¼š
- $\mathbf{x}$ï¼šæœ«ç«¯æ‰§è¡Œå™¨ä½å§¿ï¼ˆä½ç½®+å§¿æ€ï¼‰
- $\mathbf{q}$ï¼šå…³èŠ‚è§’
- $J$ï¼šé›…å¯æ¯”çŸ©é˜µ

#### é€Ÿåº¦æ˜ å°„
$$
\mathbf{v}_{EE} = J_v(\mathbf{q}) \dot{\mathbf{q}}
$$
$$
\boldsymbol{\omega}_{EE} = J_\omega(\mathbf{q}) \dot{\mathbf{q}}
$$

#### å¥‡å¼‚æ€§æ£€æµ‹
å½“ $\det(J) = 0$ æ—¶ï¼Œæœºå™¨äººå¤„äºå¥‡å¼‚ä½å§¿ï¼Œæ­¤æ—¶ï¼š
- æŸäº›æ–¹å‘å¤±å»è¿åŠ¨èƒ½åŠ›
- å…³èŠ‚é€Ÿåº¦è¶‹äºæ— ç©·å¤§

---

## äº”ã€åˆšä½“åŠ¨åŠ›å­¦

### 5.1 ç‰›é¡¿-æ¬§æ‹‰æ–¹ç¨‹

#### ç‰›é¡¿æ–¹ç¨‹ï¼ˆå¹³ç§»ï¼‰
$$
\mathbf{F} = m\mathbf{a}
$$

#### æ¬§æ‹‰æ–¹ç¨‹ï¼ˆæ—‹è½¬ï¼‰
$$
\boldsymbol{\tau} = I\boldsymbol{\dot{\omega}} + \boldsymbol{\omega} \times (I\boldsymbol{\omega})
$$

å…¶ä¸­ï¼š
- $\mathbf{F}$ï¼šåˆåŠ›
- $m$ï¼šè´¨é‡
- $\mathbf{a}$ï¼šåŠ é€Ÿåº¦
- $\boldsymbol{\tau}$ï¼šåŠ›çŸ©
- $I$ï¼šæƒ¯æ€§å¼ é‡ï¼ˆ3Ã—3å¯¹ç§°çŸ©é˜µï¼‰
- $\boldsymbol{\omega}$ï¼šè§’é€Ÿåº¦

### 5.2 æ‹‰æ ¼æœ—æ—¥åŠ›å­¦

#### æ‹‰æ ¼æœ—æ—¥å‡½æ•°
$$
L(q, \dot{q}) = T(q, \dot{q}) - V(q)
$$

å…¶ä¸­ï¼š
- $T$ï¼šç³»ç»ŸåŠ¨èƒ½
- $V$ï¼šç³»ç»ŸåŠ¿èƒ½

#### æ¬§æ‹‰-æ‹‰æ ¼æœ—æ—¥æ–¹ç¨‹
$$
\frac{d}{dt}\left(\frac{\partial L}{\partial \dot{q}_i}\right) - \frac{\partial L}{\partial q_i} = \tau_i
$$

### 5.3 æœºå™¨äººåŠ¨åŠ›å­¦æ–¹ç¨‹

#### å½¢å¼ä¸€ï¼šæ‹‰æ ¼æœ—æ—¥å½¢å¼
$$
M(q)\ddot{q} + C(q, \dot{q})\dot{q} + g(q) = \tau
$$

å…¶ä¸­ï¼š
- $M(q)$ï¼šæƒ¯æ€§çŸ©é˜µï¼ˆ$n \times n$ï¼‰
- $C(q, \dot{q})$ï¼šç§‘é‡Œå¥¥åˆ©åŠ›å’Œç¦»å¿ƒåŠ›çŸ©é˜µ
- $g(q)$ï¼šé‡åŠ›å‘é‡
- $\tau$ï¼šå…³èŠ‚åŠ›çŸ©

#### å½¢å¼äºŒï¼šç‰›é¡¿-æ¬§æ‹‰é€’æ¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç‰›é¡¿-æ¬§æ‹‰é€’æ¨ç®—æ³•                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  è¾“å…¥ï¼šq, dq, ddqï¼ˆä½ç½®ã€é€Ÿåº¦ã€åŠ é€Ÿåº¦ï¼‰                       â”‚
â”‚                                                             â”‚
â”‚  æ­¥éª¤1ï¼šæ­£å‘é€’æ¨ï¼ˆè®¡ç®—å„è¿æ†é€Ÿåº¦ã€åŠ é€Ÿåº¦ï¼‰                     â”‚
â”‚    for i = 1 to n:                                         â”‚
â”‚      Ï‰_i = R_{i-1}^i^T (Ï‰_{i-1} + dq_i * z_{i-1})          â”‚
â”‚      Î±_i = R_{i-1}^i^T Î±_{i-1} + ddq_i * z_{i-1}           â”‚
â”‚              + Ï‰_{i-1} Ã— (dq_i * z_{i-1})                  â”‚
â”‚      a_i = R_{i-1}^i^T a_{i-1} + Î±_i Ã— p_{i-1}^i           â”‚
â”‚              + Ï‰_i Ã— (Ï‰_i Ã— p_{i-1}^i)                    â”‚
â”‚                                                             â”‚
â”‚  æ­¥éª¤2ï¼šé€†å‘é€’æ¨ï¼ˆè®¡ç®—å„è¿æ†å—åŠ›ï¼‰                            â”‚
â”‚    for i = n to 1:                                         â”‚
â”‚      f_i = m_i * a_i + R_{i}^i+1^T * f_{i+1}               â”‚
â”‚      Ï„_i = p_{i-1}^i Ã— f_i + I_i * Î±_i                     â”‚
â”‚              + Ï‰_i Ã— (I_i * Ï‰_i)                          â”‚
â”‚                                                             â”‚
â”‚  è¾“å‡ºï¼šÏ„ï¼ˆå…³èŠ‚åŠ›çŸ©ï¼‰                                         â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 æƒ¯é‡å¼ é‡

#### å®šä¹‰
$$
I = \begin{bmatrix}
I_{xx} & -I_{xy} & -I_{xz} \\
-I_{xy} & I_{yy} & -I_{yz} \\
-I_{xz} & -I_{yz} & I_{zz}
\end{bmatrix}
$$

#### ä¸»æƒ¯æ€§è½´
é€šè¿‡ç‰¹å¾å€¼åˆ†è§£æ‰¾åˆ°æƒ¯é‡ä¸»è½´ï¼š
$$
I = R \begin{bmatrix}
I_1 & 0 & 0 \\
0 & I_2 & 0 \\
0 & 0 & I_3
\end{bmatrix} R^T
$$

---

## å…­ã€æ§åˆ¶ç†è®ºåŸºç¡€

### 6.1 PIDæ§åˆ¶

#### æ§åˆ¶å¾‹
$$
u(t) = K_p e(t) + K_i \int_0^t e(\tau)d\tau + K_d \frac{de(t)}{dt}
$$

æˆ–å†™æˆä¼ é€’å‡½æ•°å½¢å¼ï¼š
$$
C(s) = K_p + \frac{K_i}{s} + K_d s
$$

#### å‚æ•°è°ƒèŠ‚ï¼ˆZiegler-Nicholsæ–¹æ³•ï¼‰

| å‚æ•° | P | PI | PID |
|------|-----|-----|------|
| $K_p$ | $0.5K_{cr}$ | $0.45K_{cr}$ | $0.6K_{cr}$ |
| $K_i$ | 0 | $0.54K_{cr}/T_u$ | $1.2K_{cr}/T_u$ |
| $K_d$ | 0 | 0 | $0.075K_{cr}T_u$ |

å…¶ä¸­ $K_{cr}$ ä¸ºä¸´ç•Œå¢ç›Šï¼Œ$T_u$ ä¸ºä¸´ç•ŒæŒ¯è¡å‘¨æœŸã€‚

### 6.2 çŠ¶æ€ç©ºé—´æ§åˆ¶

#### çŠ¶æ€æ–¹ç¨‹
$$
\dot{\mathbf{x}} = A\mathbf{x} + B\mathbf{u}
$$
$$
\mathbf{y} = C\mathbf{x} + D\mathbf{u}
$$

#### æç‚¹é…ç½®
é€šè¿‡çŠ¶æ€åé¦ˆ $\mathbf{u} = -K\mathbf{x}$ å®ç°é—­ç¯æç‚¹é…ç½®ï¼š
$$
\dot{\mathbf{x}} = (A - BK)\mathbf{x}
$$

#### è§‚æµ‹å™¨è®¾è®¡
$$
\hat{\dot{\mathbf{x}}} = A\hat{\mathbf{x}} + B\mathbf{u} + L(\mathbf{y} - C\hat{\mathbf{x}})
$$

### 6.3 çº¿æ€§äºŒæ¬¡è°ƒèŠ‚å™¨ï¼ˆLQRï¼‰

#### æœ€ä¼˜æ§åˆ¶é—®é¢˜
$$
\min_{\mathbf{u}} \int_0^\infty (\mathbf{x}^T Q \mathbf{x} + \mathbf{u}^T R \mathbf{u}) dt
$$

#### è§£ï¼šé»å¡ææ–¹ç¨‹
$$
P = Q + A^T P A - A^T P B (R + B^T P B)^{-1} B^T P A
$$
$$
K = (R + B^T P B)^{-1} B^T P A
$$

> ğŸ’¡ **åº”ç”¨**ï¼šLQRæ˜¯æœºå™¨äººæ§åˆ¶çš„åŸºç¡€ï¼Œå¦‚æœºæ¢°è‡‚å…³èŠ‚æ§åˆ¶ã€å¹³è¡¡æ§åˆ¶ç­‰

### 6.4 é˜»æŠ—æ§åˆ¶

#### ç›®æ ‡
æ§åˆ¶æœºå™¨äººä¸ç¯å¢ƒçš„äº¤äº’åŠ›ï¼ŒåŒæ—¶ä¿æŒä¸€å®šçš„ä½ç½®è·Ÿè¸ªèƒ½åŠ›ã€‚

#### é˜»æŠ—å…³ç³»
$$
M_d \ddot{e} + D_d \dot{e} + K_d e = F_{ext}
$$

å…¶ä¸­ï¼š
- $e = x - x_d$ï¼šä½ç½®è¯¯å·®
- $M_d, D_d, K_d$ï¼šæœŸæœ›çš„æƒ¯æ€§ã€é˜»å°¼ã€åˆšåº¦
- $F_{ext}$ï¼šå¤–åŠ›/æ¥è§¦åŠ›

---

## ä¸ƒã€æ ¸å¿ƒå…¬å¼æ±‡æ€»

### 7.1 è¿åŠ¨å­¦å…¬å¼

| å…¬å¼ | ç”¨é€” |
|------|------|
| $^{A}T_{B} = \begin{bmatrix} ^{A}R_{B} & ^{A}p_{B/O} \\ 0 & 1 \end{bmatrix}$ | é½æ¬¡å˜æ¢ |
| $R = \exp([\omega]_\times)$ | æ—‹è½¬å‘é‡è½¬çŸ©é˜µ |
| $v = J(q)\dot{q}$ | é€Ÿåº¦æ˜ å°„ |
| $T_{EE} = T_0^1 T_1^2 \cdots T_{n-1}^n$ | æ­£è¿åŠ¨å­¦ |

### 7.2 åŠ¨åŠ›å­¦å…¬å¼

| å…¬å¼ | ç”¨é€” |
|------|------|
| $M(q)\ddot{q} + C(q,\dot{q})\dot{q} + g(q) = \tau$ | æœºå™¨äººåŠ¨åŠ›å­¦ |
| $F = ma$ | ç‰›é¡¿ç¬¬äºŒå®šå¾‹ |
| $\tau = I\dot{\omega} + \omega \times (I\omega)$ | æ¬§æ‹‰æ–¹ç¨‹ |
| $L = T - V$ | æ‹‰æ ¼æœ—æ—¥å‡½æ•° |

### 7.3 æ§åˆ¶å…¬å¼

| å…¬å¼ | ç”¨é€” |
|------|------|
| $u = K_p e + K_i \int e + K_d \dot{e}$ | PIDæ§åˆ¶ |
| $u = -Kx$ | çŠ¶æ€åé¦ˆ |
| $M_d\ddot{e} + D_d\dot{e} + K_d e = F_{ext}$ | é˜»æŠ—æ§åˆ¶ |
| $\min \int (x^T Q x + u^T R u) dt$ | LQRæœ€ä¼˜æ§åˆ¶ |

### 7.4 ä¼°è®¡å…¬å¼

| å…¬å¼ | ç”¨é€” |
|------|------|
| $P(x\|z) = \frac{P(z\|x)P(x)}{P(z)}$ | è´å¶æ–¯å®šç† |
| $\hat{x}_{k\|k-1} = F\hat{x}_{k-1} + Bu$ | é¢„æµ‹ |
| $K = P_{k\|k-1}H^T(HP_{k\|k-1}H^T + R)^{-1}$ | å¡å°”æ›¼å¢ç›Š |
| $x_{k\|k} = x_{k\|k-1} + K(z - Hx_{k\|k-1})$ | æ›´æ–° |

---

## ğŸ“š å‚è€ƒæ–‡çŒ®

1. Craig, J. J. (2005). *Introduction to Robotics: Mechanics and Control*. Pearson.
2. Thrun, S., Burgard, W., & Fox, D. (2005). *Probabilistic Robotics*. MIT Press.
3. Spong, M. W., Hutchinson, S., & Vidyasagar, M. (2006). *Robot Modeling and Control*. Wiley.
4. Sutton, R. S., & Barto, A. G. (2018). *Reinforcement Learning: An Introduction*. MIT Press.
5. Bertsekas, D. P. (2019). *Reinforcement Learning and Optimal Control*. Athena Scientific.

---

## ğŸ”— ç›¸å…³ç« èŠ‚

- [02_æ„ŸçŸ¥æŠ€æœ¯](../02_æ„ŸçŸ¥æŠ€æœ¯/README.md)
- [03_æ ¸å¿ƒæŠ€æœ¯](../03_æ ¸å¿ƒæŠ€æœ¯/README.md)
- [03_è¿åŠ¨è§„åˆ’](../03_è¿åŠ¨è§„åˆ’/README.md)

---

*æœ¬æ–‡æ¡£ä¸ºPhysical-AI-NotesåŸºç¡€æ¦‚å¿µè¿›é˜¶å†…å®¹*

*æœ€åæ›´æ–°ï¼š2026å¹´2æœˆ*
*ä½œè€…ï¼šå¤§ç™½*
